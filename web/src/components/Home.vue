<template>
  <div class="app-container">
    <!-- é¡¶éƒ¨å¯¼èˆªæ  -->
    <header class="top-nav">
      <div class="logo">
        <img src="./assets/textxpython_92740.svg" alt="Python Learning" />
        <span style="font-size: large">Pythonå­¦ä¹ æ™ºèƒ½è¾…å¯¼ç³»ç»Ÿ</span>
      </div>
      <div class="nav-right">
        <button class="nav-btn">ç”¨æˆ·ä¿¡æ¯</button>
        <button class="nav-btn">è®¾ç½®</button>
        <button class="nav-btn">å¸®åŠ©</button>
      </div>
    </header>

    <!-- ä¸»è¦å†…å®¹åŒºåŸŸ -->
    <main class="main-content">
      <!-- å·¦ä¾§å¯¼èˆªé¢æ¿ -->
      <aside class="left-panel">
        <nav class="side-nav">
          <a href="#" class="nav-item">
            <span class="icon">ğŸ“š</span>
            <span>å­¦ä¹ è·¯å¾„</span>
          </a>
          <a href="#" class="nav-item">
            <span class="icon">ğŸ§ </span>
            <span>çŸ¥è¯†å›¾è°±å¯¼èˆª</span>
          </a>
          <a href="#" class="nav-item">
            <span class="icon">ğŸ“</span>
            <span>å†å²è®°å½•</span>
          </a>
          <a href="#" class="nav-item">
            <span class="icon">â­</span>
            <span>æ”¶è—å¤¹</span>
          </a>
        </nav>
      </aside>

      <!-- ä¸­å¤®ä¸»å†…å®¹åŒº -->
      <section class="center-panel">
        <!-- èŠå¤©å¯¹è¯ç•Œé¢ -->
        <div class="chat-container">
          <h3>æ™ºèƒ½è¾…å¯¼åŠ©æ‰‹</h3>
          <div class="chat-history">
            <div v-for="msg in mockChatHistory" :key="msg.id" :class="['chat-message', msg.sender]">
              <div class="message-content">{{ msg.message }}</div>
            </div>
          </div>
          <div class="chat-input">
            <input type="text" placeholder="è¾“å…¥ä½ çš„é—®é¢˜..." />
            <button>å‘é€</button>
          </div>
        </div>

        <!-- ä»£ç ç¼–è¾‘å™¨ -->
        <div class="code-editor">
          <h3>ä»£ç å®è·µ</h3>
          <div class="editor-header">
            <div class="file-tabs">
              <span class="tab active">main.py</span>
              <span class="tab">test.py</span>
            </div>
            <div class="editor-actions">
              <button>è¿è¡Œ</button>
              <button>ä¿å­˜</button>
            </div>
          </div>
          <div class="editor-content">
            <pre><code># åœ¨è¿™é‡Œç¼–å†™Pythonä»£ç 
print("Hello, Python!")

# å°è¯•ç¼–å†™ä¸€ä¸ªç®€å•çš„å‡½æ•°
def greet(name):
    return f"Hello, {name}!"

# è°ƒç”¨å‡½æ•°
print(greet("World"))</code></pre>
          </div>
        </div>

        <!-- é”™è¯¯è¯Šæ–­ç»“æœ -->
        <div class="error-diagnosis">
          <h3>é”™è¯¯è¯Šæ–­</h3>
          <div class="diagnosis-result">
            <div class="status success">æ— é”™è¯¯</div>
            <p>ä»£ç è¯­æ³•æ­£ç¡®ï¼Œå¯ä»¥æ­£å¸¸è¿è¡Œã€‚</p>
          </div>
        </div>
      </section>

      <!-- å³ä¾§è¾…åŠ©é¢æ¿ -->
      <aside class="right-panel">
        <!-- çŸ¥è¯†ç‚¹æ‘˜è¦ -->
        <div class="panel-section">
          <h3>çŸ¥è¯†ç‚¹æ‘˜è¦</h3>
          <ul class="knowledge-list">
            <li v-for="point in mockKnowledgePoints" :key="point.id" class="knowledge-item">
              <h4>{{ point.title }}</h4>
              <p>{{ point.description }}</p>
            </li>
          </ul>
        </div>

        <!-- å¸¸è§é”™è¯¯æç¤º -->
        <div class="panel-section">
          <h3>å¸¸è§é”™è¯¯æç¤º</h3>
          <ul class="error-list">
            <li v-for="error in mockCommonErrors" :key="error.id" class="error-item">
              <h4>{{ error.title }}</h4>
              <p>{{ error.description }}</p>
            </li>
          </ul>
        </div>

        <!-- ç›¸å…³èµ„æºæ¨è -->
        <div class="panel-section">
          <h3>ç›¸å…³èµ„æºæ¨è</h3>
          <div class="resource-list">
            <a href="#" class="resource-item">Pythonå®˜æ–¹æ–‡æ¡£</a>
            <a href="#" class="resource-item">Pythonæ•™ç¨‹ - W3Schools</a>
            <a href="#" class="resource-item">Pythonç¼–ç¨‹ï¼šä»å…¥é—¨åˆ°å®è·µ</a>
          </div>
        </div>

        <!-- æ¦‚å¿µå…³ç³»å›¾ -->
        <div class="panel-section">
          <h3>æ¦‚å¿µå…³ç³»å›¾</h3>
          <div class="concept-map">
            <div class="concept-node">PythonåŸºç¡€</div>
            <div class="concept-node">å˜é‡</div>
            <div class="concept-node">æ•°æ®ç±»å‹</div>
            <div class="concept-node">æ§åˆ¶æµ</div>
            <div class="concept-node">å‡½æ•°</div>
          </div>
        </div>
      </aside>
    </main>

    <!-- åº•éƒ¨çŠ¶æ€æ  -->
    <footer class="bottom-status">
      <div class="system-status">
        <span>ç³»ç»ŸçŠ¶æ€ï¼šæ­£å¸¸</span>
      </div>
      <div class="ai-mode">
        <label for="ai-mode">AIæ¨¡å¼ï¼š</label>
        <select id="ai-mode">
          <option value="basic">åŸºç¡€è¾…å¯¼</option>
          <option value="advanced">è¿›é˜¶è¾…å¯¼</option>
          <option value="expert">ä¸“å®¶æ¨¡å¼</option>
        </select>
      </div>
      <div class="feedback">
        <button>åé¦ˆå»ºè®®</button>
      </div>
    </footer>
  </div>
</template>

<script setup>
// æ¨¡æ‹Ÿæ•°æ®
const mockChatHistory = [
  { id: 1, sender: 'ai', message: 'ä½ å¥½ï¼æˆ‘æ˜¯Pythonå­¦ä¹ æ™ºèƒ½è¾…å¯¼åŠ©æ‰‹ã€‚æœ‰ä»€ä¹ˆå¯ä»¥å¸®åŠ©ä½ çš„å—ï¼Ÿ' },
  { id: 2, sender: 'user', message: 'æˆ‘æƒ³å­¦ä¹ Pythonçš„åŸºç¡€è¯­æ³•' },
  { id: 3, sender: 'ai', message: 'å¥½çš„ï¼Pythonçš„åŸºç¡€è¯­æ³•åŒ…æ‹¬å˜é‡ã€æ•°æ®ç±»å‹ã€æ§åˆ¶æµç­‰ã€‚è®©æˆ‘å…ˆä¸ºä½ ä»‹ç»å˜é‡çš„å®šä¹‰...' }
];

const mockKnowledgePoints = [
  { id: 1, title: 'Pythonå˜é‡', description: 'ç”¨äºå­˜å‚¨æ•°æ®çš„å®¹å™¨' },
  { id: 2, title: 'æ•°æ®ç±»å‹', description: 'æ•´æ•°ã€æµ®ç‚¹æ•°ã€å­—ç¬¦ä¸²ã€å¸ƒå°”å€¼ç­‰' },
  { id: 3, title: 'æ§åˆ¶æµ', description: 'ifè¯­å¥ã€forå¾ªç¯ã€whileå¾ªç¯' }
];

const mockCommonErrors = [
  { id: 1, title: 'è¯­æ³•é”™è¯¯', description: 'ä»£ç ä¸ç¬¦åˆPythonè¯­æ³•è§„åˆ™' },
  { id: 2, title: 'åç§°é”™è¯¯', description: 'ä½¿ç”¨äº†æœªå®šä¹‰çš„å˜é‡æˆ–å‡½æ•°' },
  { id: 3, title: 'ç±»å‹é”™è¯¯', description: 'æ“ä½œæˆ–å‡½æ•°åº”ç”¨äºä¸é€‚å½“ç±»å‹çš„å¯¹è±¡' }
];
</script>

<style scoped>
.app-container {
  display: flex;
  flex-direction: column;
  height: 100vh;
}

/* é¡¶éƒ¨å¯¼èˆªæ  */
.top-nav {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0 20px;
  height: 60px;
  background-color: #4a90e2;
  color: white;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.logo {
  display: flex;
  align-items: center;
  gap: 10px;
}

.logo img {
  height: 40px;
  width: auto;
}

.nav-right {
  display: flex;
  gap: 15px;
}

.nav-btn {
  background-color: rgba(255, 255, 255, 0.2);
  color: white;
  border: none;
  padding: 8px 16px;
  border-radius: 4px;
  cursor: pointer;
  transition: background-color 0.3s;
}

.nav-btn:hover {
  background-color: rgba(255, 255, 255, 0.3);
}

/* ä¸»è¦å†…å®¹åŒºåŸŸ */
.main-content {
  display: grid;
  grid-template-columns: 250px 1fr 300px;
  flex: 1;
  overflow: hidden;
  height: calc(100vh - 100px); /* å‡å»é¡¶éƒ¨å¯¼èˆªæ å’Œåº•éƒ¨çŠ¶æ€æ çš„é«˜åº¦ */
}

/* å·¦ä¾§å¯¼èˆªé¢æ¿ */
.left-panel {
  background-color: #f5f5f5;
  border-right: 1px solid #e0e0e0;
}

.side-nav {
  padding: 20px 0;
}

.nav-item {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 12px 20px;
  color: #333;
  text-decoration: none;
  transition: background-color 0.3s;
}

.nav-item:hover {
  background-color: #e0e0e0;
}

.nav-item .icon {
  font-size: 18px;
}

/* ä¸­å¤®ä¸»å†…å®¹åŒº */
.center-panel {
  padding: 20px;
  overflow-y: auto;
  display: flex;
  flex-direction: column;
  gap: 20px;
  height: 100%;
}

.chat-container, .code-editor, .error-diagnosis {
  background-color: white;
  border-radius: 8px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  padding: 15px;
}

.chat-history {
  max-height: 300px;
  overflow-y: auto;
  margin-bottom: 15px;
  padding: 10px;
  background-color: #fafafa;
  border-radius: 4px;
}

.chat-message {
  margin-bottom: 10px;
  padding: 8px 12px;
  border-radius: 8px;
  max-width: 80%;
}

.chat-message.ai {
  background-color: #e3f2fd;
  align-self: flex-start;
}

.chat-message.user {
  background-color: #c8e6c9;
  align-self: flex-end;
  margin-left: auto;
}

.chat-input {
  display: flex;
  gap: 10px;
}

.chat-input input {
  flex: 1;
  padding: 10px;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.chat-input button {
  padding: 10px 20px;
  background-color: #4a90e2;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
}

.editor-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 10px;
}

.file-tabs {
  display: flex;
  gap: 5px;
}

.tab {
  padding: 6px 12px;
  background-color: #f0f0f0;
  border-radius: 4px 4px 0 0;
  cursor: pointer;
}

.tab.active {
  background-color: #e3f2fd;
  font-weight: bold;
}

.editor-actions {
  display: flex;
  gap: 10px;
}

.editor-actions button {
  padding: 6px 12px;
  background-color: #4a90e2;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
}

.editor-content {
  background-color: #f5f5f5;
  border-radius: 4px;
  padding: 10px;
  overflow-x: auto;
}

.editor-content pre {
  margin: 0;
  font-family: 'Courier New', Courier, monospace;
  font-size: 14px;
  line-height: 1.5;
}

.error-diagnosis .diagnosis-result {
  padding: 10px;
  border-radius: 4px;
}

.status {
  padding: 4px 8px;
  border-radius: 4px;
  font-weight: bold;
  display: inline-block;
  margin-bottom: 10px;
}

.status.success {
  background-color: #c8e6c9;
  color: #2e7d32;
}

.status.error {
  background-color: #ffcdd2;
  color: #c62828;
}

/* å³ä¾§è¾…åŠ©é¢æ¿ */
.right-panel {
  background-color: #f5f5f5;
  border-left: 1px solid #e0e0e0;
  padding: 20px;
  overflow-y: auto;
  display: flex;
  flex-direction: column;
  gap: 20px;
}

.panel-section {
  background-color: white;
  border-radius: 8px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  padding: 15px;
}

.knowledge-list, .error-list {
  list-style: none;
  padding: 0;
  margin: 0;
}

.knowledge-item, .error-item {
  margin-bottom: 15px;
  padding-bottom: 15px;
  border-bottom: 1px solid #eee;
}

.knowledge-item:last-child, .error-item:last-child {
  border-bottom: none;
  margin-bottom: 0;
  padding-bottom: 0;
}

.knowledge-item h4, .error-item h4 {
  margin: 0 0 5px 0;
  color: #4a90e2;
}

.knowledge-item p, .error-item p {
  margin: 0;
  font-size: 14px;
  color: #666;
}

.resource-list {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.resource-item {
  color: #4a90e2;
  text-decoration: none;
  padding: 8px;
  background-color: #f0f8ff;
  border-radius: 4px;
  transition: background-color 0.3s;
}

.resource-item:hover {
  background-color: #e3f2fd;
}

.concept-map {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 10px;
  padding: 10px;
  background-color: #fafafa;
  border-radius: 4px;
}

.concept-node {
  padding: 10px;
  background-color: #fff9c4;
  border: 1px solid #ffeb3b;
  border-radius: 4px;
  text-align: center;
  font-size: 14px;
}

/* åº•éƒ¨çŠ¶æ€æ  */
.bottom-status {
  display: flex;
  justify-content: space-between;
  align-items: center;
  height: 40px;
  padding: 0 20px;
  background-color: #f5f5f5;
  border-top: 1px solid #e0e0e0;
  font-size: 14px;
  color: #666;
}

.ai-mode select {
  margin-left: 5px;
  padding: 4px;
  border-radius: 4px;
  border: 1px solid #ddd;
}

.feedback button {
  padding: 4px 12px;
  background-color: #4a90e2;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  font-size: 14px;
}

/* å“åº”å¼è®¾è®¡ */
@media (max-width: 1200px) {
  .main-content {
    grid-template-columns: 200px 1fr 250px;
  }
}

@media (max-width: 992px) {
  .main-content {
    grid-template-columns: 1fr;
    grid-template-rows: auto 1fr auto;
  }

  .left-panel, .right-panel {
    order: 2;
  }

  .center-panel {
    order: 1;
  }
}
</style>